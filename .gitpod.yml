
image:
  file: .gitpod.Dockerfile
tasks:
  - init:   - init: echo 'PATH_add ~/julia-1.8.2/bin' > /workspace/.envrc \
      && echo 'export SEARCHLIGHT_USERNAME="gitpod"' >> /workspace/.envrc \
      && direnv allow /workspace \
      && julia -e 'using Pkg; Pkg.activate("."); Pkg.instantiate(); include("testAPI.jl")'
  - command: julia -e 'import Pkg; Pkg.instantiate(); include("run.jl")'

ports:
  - name: postgres
    description: data base server
    port: 5432
    visibility: private
    onOpen: ignore

  - name: Web App
    description: The main application web server
    port: 8000
    visibility: public
    onOpen: open-browser
vscode:
  extensions:
    - pinage404.markdown-extension-pack
